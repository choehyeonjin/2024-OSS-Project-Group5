<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Community Board with Links</title>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
        <style>
            @font-face { 
                font-family: "SCDream4";
                src: url("font/SCDream4.otf") format("truetype");
                font-weight: normal;
            }
            * {
                font-family: 'SCDream4';
            }
    
            header {
                background-color: #333333;
                color: white;
                padding: 30px 50px;
                text-align: center;
                
                border-bottom: 4px solid #fff;
            }
    
            header h1 {
                margin: 0;
                font-size: 48px;
                font-weight: bold;
                text-transform: uppercase;
                letter-spacing: 4px;
            }
    
            header div {
                margin-top: 15px;
                font-size: 20px;
            }
    
            header a {
                color: #ffffff;
                text-decoration: none;
                margin: 0 15px;
                font-weight: bold;
            }
    
            header a:hover {
                color: var(--hover-color, #d32f2f); /* 기본 색상: 빨간색 */
            }   
            
            .main-content {
                display: flex;
                flex-direction: column;
                align-items: center;
                padding: 20px;
                width: 100%;
            }
    
            .section-container {
                display: flex;
                gap: 20px;
                justify-content: space-between;
                width: 1200px; /* px로 고정 */
            }
    
            .post-section {
                flex: 1;
                background-color: #f0f0f0;
                border-radius: 8px;
                padding: 20px;
                width: 575px; /* 고정 너비 */
                height: 420px; /* 고정 높이 */
                overflow-y: 0;
            }
    
            .post-section h2 {
                margin-bottom: 10px;
            }
    
            .post-list {
                display: flex;
                flex-direction: column;
            }
    
            .post-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 10px 0;
                border-bottom: 1px solid #ddd;
            }
    
            .post-item:last-child {
                border-bottom: none;
            }
    
            .post-title {
                font-size: 18px;
                color: #333;
                cursor: pointer;
            }
    
            .post-title:hover {
                color: #d9534f;
            }
    
            .post-meta {
                font-size: 14px;
                color: #777;
            }
    
            footer {
                background-color: #333333;
                color: white;
                padding: 20px 30px;
                text-align: center;
                position: relative;
            }
    
            .button-container {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin-top: 20px;
            }
    
            .link-button {
                display: inline-block;
                background-color: #333333;
                color: white;
                padding: 10px 20px;
                border-radius: 25px;
                text-decoration: none;
                font-weight: bold;
                transition: background-color 0.3s ease;
            }
    
            .link-button:hover {
                background-color: #333333;
            }
             /* 고정 크기 및 중앙 정렬 */
             .horizontal-box-container {
                width: 1200px;
                max-width: 1200px;
                margin: 40px;
                display: flex;
                flex-direction: column;
                align-items: center;
            }
    
            .horizontal-box {
                width: 100%;
                max-width: 1200px;
                background-color: #f0f0f0;
                border-radius: 10px;
                padding: 40px;
                display: flex;
                flex-direction: row;
                align-items: center;
                gap: 40px;
                box-sizing: border-box;
                text-align: left;
                height: 500px; /* 모든 페이지가 같은 높이 유지 */
                margin-bottom: 20px;
            }
    
            .horizontal-box img {
                width: 400px;
                height: 300px;
                border-radius: 10px;
                object-fit: cover;
            }
    
            .horizontal-box-content {
                max-width: 600px;
                font-size: 24px;
                line-height: 1.5;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }
    
            .pagination {
                display: flex;
                justify-content: center;
                gap: 20px;
                margin-top: 20px;
                align-self: center; /* 부모 요소 기준으로 중앙 정렬 */
            }
    
            .pagination-btn {
                width: 50px;
                height: 50px;
                border: none;
                background-color: transparent;
                background-image: url('ball/ball.png');
                background-size: contain;
                background-repeat: no-repeat;
                cursor: pointer;
                transition: transform 0.2s;
            }
    
            .pagination-btn:hover {
                transform: scale(1.1);
            }
    
            .pagination-btn.active {
                background-image: url('ball/bat.png');
                transform: scale(1.2);
            }
    
            .hidden {
                display: none;
            }
        </style>
    </head>
<body>
    <header>
        <h1 id="header-title"></h1>
        <div>
            <a id="qna-link" href="#">Q&A</a> | 
            <a id="community-link" href="#">다이어리</a> | 
            <a href="main.html">메인</a>
        </div>
    </header>
    
    <div class="main-content">
        <div class="section-container">
            <div class="post-section">
                <h2>질문 1억 개 올려도 됨, 대신 질문에 답은 안해줌</h2>
                <div class="post-list" id="qna-section"></div>
            </div>
            <div class="post-section">
                <h2>뭐든 적어도 됨, 대신 읽어주는 사람 없음</h2>
                <div class="post-list" id="community-section"></div>
            </div>
        </div>
    
        <div class="horizontal-box-container" data-section-index="0">
            <!-- 페이지 1 -->
            <div class="horizontal-box page-1" data-page-index="1">
                <img id="event1-image" src="" alt="Event Image">
                <div class="horizontal-box-content">
                    <h3>구단 소개</h3>
                    <ul id="event1-texts"></ul>
                </div>
            </div>
            <!-- 페이지 2 -->
            <div class="horizontal-box page-2 hidden" data-page-index="2">
                <img id="event2-image" src="" alt="Event Image">
                <div class="horizontal-box-content">
                    <h3>마스 코트</h3>
                    <ul id="event2-texts"></ul>
                </div>
            </div>
            <div class="horizontal-box page-3 hidden" data-page-index="3">
                <img id="event3-image" src="" alt="Event Image">
                <div class="horizontal-box-content">
                    <h3>우승 년도</h3>
                    <ul id="event3-texts"></ul>
                </div>
            </div>
            <div class="pagination">
                <button class="pagination-btn" data-page="1" data-section="0"></button>
                <button class="pagination-btn" data-page="2" data-section="0"></button>
                <button class="pagination-btn" data-page="3" data-section="0"></button>
            </div>
        </div>
        <div class="video-section" id="video-section"  style="margin-top: 50px;" ></div>
</div>

<footer>
    <div class="button-container" id="footer-links">

    </div>
    <p>&copy; 요아정 - 요즘 야구 정보</p>
</footer>

<script>
    // URL에서 team 파라미터 추출
    const urlParams = new URLSearchParams(window.location.search);
    const team = urlParams.get('team');
    const footerLinks = document.getElementById('footer-links');
    // 구단별 색상 정의
    const teamColors = {
        kia: '#EA0029',      // KIA
        samsung: '#074CA1',  // 삼성
        lg: '#C30452',       // LG
        dusan: '#131230',    // 두산
        kt: '#EB1C24',       // KT
        ssg: '#CE0E2D',      // SSG
        lotte: '#041E42',    // 롯데
        hanwa: '#F73600',    // 한화
        nc: '#315288',       // NC
        kiwoom: '#570514'    // 키움
    };

    // 구단별 색상 적용
    if (team && teamColors[team]) {
        document.documentElement.style.setProperty('--hover-color', teamColors[team]);
    } else {
        document.documentElement.style.setProperty('--hover-color', '#d32f2f'); // 기본 색상
}

const teamContent = {
    kia: {
        event1: {
            texts: [
                "2001년 기아 타이거즈 설립",
                "홈구장 : 광주 - 기아 챔피언스 필드 ( 2014년 ~ 현재 )",
                "감독 : 이범호"
            ],
            image: "logos/kia.png"
        },
        event2: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "logos/samsung.png"
        },
        event3: {
            texts: [
                "✨👑2024👑✨",
                "1983 | 1986 | 1987 | 1988 | 1989",
                "1991 | 1993 | 1996 | 1997 | 2009 | 2017"
            ],
            image: "ball/kia.jpg"
        }
    },
    samsung: {
        event1: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "logos/samsung.png"
        },
        event2: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "samsung_event2.jpg"
        },
        event3: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "ball/kia.jpg"
        }
    },
    lg: {
        event1: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "lg_event1.jpg"
        },
        event2: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "lg_event2.jpg"
        },
        event3: {
            texts: [
                "KIA 타이거즈 시즌 종료 이벤트! 특별 굿즈를 만나보세요.",
                "12월 1일부터 12월 31일까지 참여 가능합니다.",
                "참가 방법: KIA 공식 홈페이지를 방문하세요."
            ],
            image: "lg_event3.jpg"
        }
    }
};
    const qnaSection = document.getElementById('qna-section');
    const footerLinkData = {
        kia: [
            { text: "갸티비", url: "https://www.youtube.com/@kiatigerstv" },
            { text: "기아 타이거즈", url: "https://www.tigers.co.kr/" },
            { text: "팀스토어", url: "https://teamstore.tigers.co.kr/" }
        ],
        samsung: [
            { text: "Lions TV", url: "https://www.youtube.com/@lionstv1982" },
            { text: "삼성 라이온즈", url: "https://www.samsunglions.com/index.asp" },
            { text: "라이온즈몰", url: "https://samsunglionsmall.com/" }
        ],
        lg: [
            { text: "LGTWINS TV", url: "https://www.youtube.com/@LGTwinsTV" },
            { text: "LG 트윈스", url: "https://www.lgtwins.com/service/html.ncd?view=/pc_twins/twins_main/twins_main" },
            { text: "LG 온라인몰", url: "https://www.lgtwins.com/service/html.ncd?baRq=&baRs=OUT_DS&view=%2Fpc_twins%2Ftwins%2Ftwins_shop&actID=BR_DetailShopMall" }
        ],
        dusan: [
            { text: "BEARS TV", url: "https://www.youtube.com/@bearstv1982" },
            { text: "두산 베어스", url: "https://www.doosanbears.com/" },
            { text: "위팬", url: "https://www.doosanbearswefan.shop/" }
        ],
        kt: [
            { text: "위즈 TV", url: "https://www.youtube.com/@ktwiztv" },
            { text: "kt", url: "https://www.samsunglions.com/index.asp" },
            { text: "kt", url: "https://samsunglionsmall.com/" }
        ],
        ssg: [
            { text: "SSG 랜더스", url: "https://www.youtube.com/@SSGLANDERS" },
            { text: "ssg", url: "https://www.lgtwins.com/" },
            { text: "ssg", url: "https://teamstore.lgtwins.com/" }
        ],
        lotte: [
            { text: "Giants TV", url: "https://www.youtube.com/@giantstv" },
            { text: "loote", url: "https://www.tigers.co.kr/" },
            { text: "loote", url: "https://teamstore.tigers.co.kr/" }
        ],
        hanwa: [
            { text: "hanwa", url: "hhttps://www.youtube.com/@lionstv1982" },
            { text: "hanwa", url: "https://www.samsunglions.com/index.asp" },
            { text: "hanwa", url: "https://samsunglionsmall.com/" }
        ],
        nc: [
            { text: "nc", url: "https://www.youtube.com/@kiatigerstv" },
            { text: "nc", url: "https://www.tigers.co.kr/" },
            { text: "nc", url: "https://teamstore.tigers.co.kr/" }
        ],
        kiwoom: [
            { text: "kiwoom", url: "hhttps://www.youtube.com/@lionstv1982" },
            { text: "kiwoom", url: "https://www.samsunglions.com/index.asp" },
            { text: "kiwoom", url: "https://samsunglionsmall.com/" }
        ]
    };

    if (team && footerLinkData[team]) {
        footerLinkData[team].forEach(link => {
            const anchor = document.createElement('a');
            anchor.className = 'link-button';
            anchor.href = link.url;
            anchor.target = '_blank';
            anchor.textContent = link.text;
            footerLinks.appendChild(anchor);
        });
    } else {
        const defaultLinks = [
           
        ];
        defaultLinks.forEach(link => {
            const anchor = document.createElement('a');
            anchor.className = 'link-button';
            anchor.href = link.url;
            anchor.target = '_blank';
            anchor.textContent = link.text;
            footerLinks.appendChild(anchor);
        });
    }
    // 팀별 헤더 이름 설정
    const headerTitle = document.getElementById('header-title');
    if (team) {
        const teamNames = {
            kia: 'KIA 커뮤니티',
            samsung: '삼성 커뮤니티',
            lg: 'LG 커뮤니티',
            dusan: '두산 커뮤니티',
            kt: 'KT 커뮤니티',
            ssg: 'SSG 커뮤니티',
            lotte: '롯데 커뮤니티',
            hanwa: '한화 커뮤니티',
            nc: 'NC 커뮤니티',
            kiwoom: '키움 커뮤니티'
        };

        headerTitle.textContent = teamNames[team] || '커뮤니티'; // 팀 이름이 없을 경우 기본값
    } else {
        headerTitle.textContent = '커뮤니티';
    }

    const videoSection = document.getElementById('video-section');

// 구단별 동영상 URL 설정
const teamVideos = {
    kia: [
        "https://www.youtube.com/embed/ZEPS5Bm3iqc?si=raaX1YVsDEWp9eJY",
        "https://www.youtube.com/embed/Hac_l6kFO6M?si=AscsMiv8vTrXCnn4"
    ],
    samsung: [
        "https://www.youtube.com/embed/n5OxYkfnNqE?si=rQx68OWS3fIyQxEz",
        "https://www.youtube.com/embed/RUsKpzR98Z4?si=CKw3MhkzOxI3IrrX"
    ],
    lg: [
        "https://www.youtube.com/embed/QDOl5kmOPXA?si=I4weeI651CdN1E45",
        "https://www.youtube.com/embed/wBYboQtmPRU?si=OP3fW3hAGIoHCYUt"
    ],
    dusan: [
        "https://www.youtube.com/embed/9dcwvb7uHuw?si=bklTv50LjXJptgJ8" ,
        "https://www.youtube.com/embed/igPggbPRMac?si=lAOeEYfFdaKvRLbQ"
    ],
    kt: [
        "https://www.youtube.com/embed/WDZzXQlfTK8?si=_GZnH5yqLkRjPtwX",
       "https://www.youtube.com/embed/uUoFdZrzt9M?si=LWK9FP7q0C3o7iku" 
    ],
    ssg: [
        "https://www.youtube.com/embed/fP6vg1M7l6s?si=V2EvpHDbhOlXGfmc" ,
        "https://www.youtube.com/embed/8CcqT6UVo-8?si=bqHlkKlz72wMhyZY" 
    ],
    lotte: [
        "https://www.youtube.com/embed/bvbomd5CLh0?si=IQ3sRkO4k89jRqtO",
        "https://www.youtube.com/embed/rX9JivgYYt4?si=P6iOFgU0DI5gNoi9" 
    ],
    hanwa: [
        "https://www.youtube.com/embed/SySRruaqg8w?si=a5-tUkvqYHW9uhp-",
        "https://www.youtube.com/embed/RUsKpzR98Z4?si=CKw3MhkzOxI3IrrX"
    ],
    nc: [
        "https://www.youtube.com/embed/QDOl5kmOPXA?si=I4weeI651CdN1E45",
        "https://www.youtube.com/embed/wBYboQtmPRU?si=OP3fW3hAGIoHCYUt"
    ],
    kiwoom: [
        "https://www.youtube.com/embed/QDOl5kmOPXA?si=I4weeI651CdN1E45",
        "https://www.youtube.com/embed/wBYboQtmPRU?si=OP3fW3hAGIoHCYUt"
    ]
};

// 기본 동영상 설정s
const defaultVideos = [
    "https://www.youtube.com/embed/ZEPS5Bm3iqc?si=raaX1YVsDEWp9eJY",
    "https://www.youtube.com/embed/Hac_l6kFO6M?si=AscsMiv8vTrXCnn4"
];

// 구단별 동영상 가져오기
const selectedVideos = team ? teamVideos[team] || defaultVideos : defaultVideos;

// 동영상 섹션 렌더링
videoSection.innerHTML = `
    <div style="display: flex; gap: 20px; margin-bottom: 20px;">
        ${selectedVideos.map(video => `
            <iframe width="590" height="300" src="${video}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        `).join('')}
    </div>
`;

    const qnaLink = document.getElementById('qna-link');
    const communityLink = document.getElementById('community-link');

    // Q&A와 커뮤니티 링크 업데이트
    if (team) {
        qnaLink.href = `KIA_community2.html?team=${team}`;
        communityLink.href = `community_diary.html?team=${team}`;
    } else {
        qnaLink.href = '#';
        communityLink.href = '#';
        alert("Error");
    }

    // 로컬 스토리지에서 Q&A 데이터 가져오기
    const teamKey = team ? `qnas_${team}` : null;
    const qnas = teamKey ? JSON.parse(localStorage.getItem(teamKey)) || [] : [];

    function renderLatestQnAs() {
        qnaSection.innerHTML = ''; // 기존 내용 초기화

        if (qnas.length === 0) {
            qnaSection.innerHTML = '<p>등록된 Q&A가 없습니다.</p>';
        } else {
            // 최신순으로 정렬 후 상위 5개 가져오기
            const latestQnAs = qnas
                .map((qna, index) => ({ ...qna, id: index }))
                .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))
                .slice(0, 5);

            latestQnAs.forEach(qna => {
                const postItem = document.createElement('div');
                postItem.className = 'post-item';
                postItem.innerHTML = `
                    <div>
                        <div class="post-title" onclick="window.location.href='KIA_community4.html?id=${qna.id}&team=${team}'">
                            ${qna.title}
                        </div>
                        <div class="post-meta">작성자: ${qna.author || "익명"} | ${new Date(qna.timestamp).toLocaleString()}</div>
                    </div>
                `;
                qnaSection.appendChild(postItem);
            });
        }
    }

    // 최신 Q&A 렌더링
    renderLatestQnAs();


    function updateContent(team) {
    if (teamContent[team]) {
        // 페이지 1
        const event1Texts = document.getElementById("event1-texts");
        event1Texts.innerHTML = "";
        teamContent[team].event1.texts.forEach(text => {
            const li = document.createElement("li");
            li.textContent = text;
            event1Texts.appendChild(li);
        });
        document.getElementById("event1-image").src = teamContent[team].event1.image;

        // 페이지 2
        const event2Texts = document.getElementById("event2-texts");
        event2Texts.innerHTML = "";
        teamContent[team].event2.texts.forEach(text => {
            const li = document.createElement("li");
            li.textContent = text;
            event2Texts.appendChild(li);
        });
        document.getElementById("event2-image").src = teamContent[team].event2.image;

        // 페이지 3
        const event3Texts = document.getElementById("event3-texts");
        event3Texts.innerHTML = "";
        teamContent[team].event3.texts.forEach(text => {
            const li = document.createElement("li");
            li.textContent = text;
            event3Texts.appendChild(li);
        });
        document.getElementById("event3-image").src = teamContent[team].event3.image;
    }
}

updateContent(team);
// 페이지 변경 함수 수정: 섹션마다 독립적으로 페이지 전환을 처리하도록 개선
function changePage(pageNumber, sectionIndex) {
    const section = document.querySelector(`.horizontal-box-container[data-section-index="${sectionIndex}"]`);

    if (!section) {
        console.error(`Section with index ${sectionIndex} not found.`);
        return;
    }

    // 모든 페이지를 숨기고, 특정 페이지만 보이도록 설정
    const pages = section.querySelectorAll(`.horizontal-box[data-page-index]`);
    pages.forEach((page) => {
        const pageIndex = parseInt(page.getAttribute("data-page-index"), 10);
        if (pageIndex === pageNumber) {
            page.style.display = "flex"; // 페이지를 표시
            page.classList.remove("hidden");
        } else {
            page.style.display = "none"; // 페이지를 숨김
            page.classList.add("hidden");
        }
    });

    // 버튼 활성화 상태 업데이트
    const buttons = section.querySelectorAll(`.pagination-btn[data-section="${sectionIndex}"]`);
    buttons.forEach((button) => {
        const buttonPage = parseInt(button.getAttribute("data-page"), 10);
        if (buttonPage === pageNumber) {
            button.classList.add("active");
        } else {
            button.classList.remove("active");
        }
    });
}

// 페이지 초기화 로직 수정: 첫 번째 페이지로 초기화
document.addEventListener("DOMContentLoaded", () => {
    const sections = document.querySelectorAll(".horizontal-box-container");

    sections.forEach((section, sectionIndex) => {
        const buttons = section.querySelectorAll(".pagination-btn");

        // 각 버튼에 클릭 이벤트 등록
        buttons.forEach((button) => {
            const pageNumber = parseInt(button.getAttribute("data-page"), 10);
            button.addEventListener("click", () => {
                changePage(pageNumber, sectionIndex);
            });
        });

        // 각 섹션의 첫 번째 페이지로 초기화
        changePage(1, sectionIndex);
    });
});
    changePage(1);

</script>

</body>
</html>
